import{_ as w}from"./WebRTC.vue_vue_type_script_setup_true_lang-933a8b67.js";import{S as x}from"./StreamPlayer-0a851912.js";import{S as D}from"./StreamTracks-c1359b8a.js";import{_ as S}from"./MediaError.vue_vue_type_script_setup_true_lang-7241cc78.js";import{d as M,f as p,o as m,h as g,w as a,k as e,l as d,b as C,a as F,j as B,F as h,i as o,_ as N}from"./index-1833767a.js";import"./webrtc-841bc7c7.js";const T={class:"mb-20"},H=M({__name:"04VideoStreamFromDisplayMedia",setup($){const i=p(),s=p(),f=[{label:"默认显示设备",value:"default"},{label:"共享浏览器选项卡",value:"browser"},{label:"共享App窗口",value:"window"},{label:"共享系统屏幕",value:"monitor"}],v=()=>{var r;const t={video:!0,audio:!0};s.value!=="default"&&s.value&&(t.video={displaySurface:s.value}),(r=i.value)==null||r.getDisplayMedia(t)},b=()=>{var t;(t=i.value)==null||t.close()};return(t,r)=>{const c=o("el-divider"),_=o("el-col"),y=o("el-row"),k=o("el-option"),V=o("el-select"),u=o("el-button");return m(),g(w,{ref_key:"webrtc",ref:i,title:"视频流来自屏幕共享"},{video:a(({stream:l})=>[e(y,{gutter:50},{default:a(()=>[e(_,{class:"center",xs:24,sm:24,md:12},{default:a(()=>[e(c,{"content-position":"left"},{default:a(()=>[d("Display media")]),_:1}),e(x,{stream:l,muted:!0,autoplay:!0},null,8,["stream"])]),_:2},1024),e(_,{class:"center",xs:24,sm:24,md:12},{default:a(()=>[e(c,{"content-position":"left"},{default:a(()=>[d("Tracks")]),_:1}),e(D,{value:l},null,8,["value"])]),_:2},1024)]),_:2},1024)]),error:a(({data:l})=>[e(S,{error:l.error},null,8,["error"])]),list:a(({support:l})=>[C("div",T,[e(V,{modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=n=>s.value=n),placeholder:"请选择共享源",disabled:!l.supDisplayMedia},{default:a(()=>[(m(),F(h,null,B(f,n=>e(k,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","disabled"]),e(u,{type:"primary",class:"ml-20",disabled:!l.supDisplayMedia,onClick:v},{default:a(()=>[d("开始")]),_:2},1032,["disabled"]),e(u,{type:"danger",class:"ml-20",disabled:!l.supDisplayMedia,onClick:b},{default:a(()=>[d("停止")]),_:2},1032,["disabled"])])]),_:1},512)}}});const U=N(H,[["__scopeId","data-v-aa923f27"]]);export{U as default};
