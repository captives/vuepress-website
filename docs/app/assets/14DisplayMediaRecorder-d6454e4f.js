import{_ as V}from"./WebRTC.vue_vue_type_script_setup_true_lang-933a8b67.js";import{S as x}from"./StreamPlayer-0a851912.js";import{S as D}from"./StreamTracks-c1359b8a.js";import{_ as C}from"./MediaError.vue_vue_type_script_setup_true_lang-7241cc78.js";import{_ as M}from"./StreamRecorder.vue_vue_type_script_setup_true_lang-d40a61c0.js";import{d as S,f as m,o as p,h as g,w as l,k as e,l as d,b as B,a as h,j as N,F as T,i as o}from"./index-1833767a.js";import"./webrtc-841bc7c7.js";const $={class:"mb-20"},U=S({__name:"14DisplayMediaRecorder",setup(F){const i=m(),s=m(),f=[{label:"默认显示设备",value:"default"},{label:"共享浏览器选项卡",value:"browser"},{label:"共享App窗口",value:"window"},{label:"共享系统屏幕",value:"monitor"}],v=()=>{var r;const t={video:!0,audio:!0};s.value!=="default"&&s.value&&(t.video={displaySurface:s.value}),(r=i.value)==null||r.getDisplayMedia(t)},b=()=>{var t;(t=i.value)==null||t.close()};return(t,r)=>{const c=o("el-divider"),u=o("el-col"),y=o("el-row"),k=o("el-option"),w=o("el-select"),_=o("el-button");return p(),g(V,{ref_key:"webrtc",ref:i,title:"显示设备录制流"},{video:l(({stream:a})=>[e(y,{gutter:50},{default:l(()=>[e(u,{class:"center",xs:24,sm:24,md:12},{default:l(()=>[e(c,{"content-position":"left"},{default:l(()=>[d("Display media recorder")]),_:1}),e(x,{stream:a,muted:!0,autoplay:!0},null,8,["stream"]),e(M,{stream:a},null,8,["stream"])]),_:2},1024),e(u,{class:"center",xs:24,sm:24,md:12},{default:l(()=>[e(c,{"content-position":"left"},{default:l(()=>[d("Tracks")]),_:1}),e(D,{value:a},null,8,["value"])]),_:2},1024)]),_:2},1024)]),error:l(({data:a})=>[e(C,{error:a.error},null,8,["error"])]),list:l(({support:a})=>[B("div",$,[e(w,{modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=n=>s.value=n),placeholder:"请选择共享源",disabled:!a.supDisplayMedia},{default:l(()=>[(p(),h(T,null,N(f,n=>e(k,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","disabled"]),e(_,{type:"primary",class:"ml-20",disabled:!a.supDisplayMedia,onClick:v},{default:l(()=>[d("开始")]),_:2},1032,["disabled"]),e(_,{type:"danger",class:"ml-20",disabled:!a.supDisplayMedia,onClick:b},{default:l(()=>[d("停止")]),_:2},1032,["disabled"])])]),_:1},512)}}});export{U as default};
