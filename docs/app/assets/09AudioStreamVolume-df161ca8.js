import{S as w}from"./StreamTracks-c1359b8a.js";import{_ as b}from"./MediaError.vue_vue_type_script_setup_true_lang-7241cc78.js";import{d as A,f as l,o as d,a as y,k as a,w as e,F as z,i as r,l as u,h as N,x as B,b as C}from"./index-1833767a.js";import"./webrtc-841bc7c7.js";const I=C("br",null,null,-1),M=C("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/AudioContext",target:"_blank"},"Audio Workers",-1),R=A({__name:"09AudioStreamVolume",setup(P){const S=l(),c=l(""),o=l(),s=l(),g=(n,t)=>{t!=null&&t.captureStream||t!=null&&t.mozCaptureStream,t!=null&&t.captureStream?o.value=t==null?void 0:t.captureStream(0):t!=null&&t.mozCaptureStream?o.value=t==null?void 0:t.mozCaptureStream(0):(console.error("Stream capture is not supported"),o.value=void 0),console.log("Capture stream",o.value)};return(n,t)=>{const f=r("URLInput"),m=r("el-divider"),h=r("VideoPlayer"),i=r("el-col"),p=r("el-progress"),_=r("el-form-item"),k=r("el-form"),x=r("el-row");return d(),y(z,null,[a(f,{list:n.$videoList,modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=V=>c.value=V)},null,8,["list","modelValue"]),a(x,{gutter:50},{default:e(()=>[a(i,{class:"center",xs:24,sm:24,md:12},{default:e(()=>[a(m,{"content-position":"left"},{default:e(()=>[u("Audio Stream")]),_:1}),a(h,{src:n.$oss(c.value),class:"mt-20",autoplay:"",onCanplay:g},null,8,["src"])]),_:1}),a(i,{class:"center",xs:24,sm:24,md:12},{default:e(()=>[a(m,{"content-position":"left"},{default:e(()=>[u("Audio Stream Volume")]),_:1}),u(" AudioContext.createScriptProcessor() 已经弃用，此示例搁置。 "),I,u(" 后续研究 "),M,s.value?(d(),N(k,{key:0,"label-width":"80px"},{default:e(()=>[a(_,{label:"Instant:"},{default:e(()=>[a(p,{"stroke-width":20,"text-inside":!0,percentage:Math.floor(s.value.instant*500)},null,8,["percentage"])]),_:1}),a(_,{label:"Slow:"},{default:e(()=>[a(p,{"stroke-width":20,"text-inside":!0,percentage:Math.floor(s.value.slow*500),color:"#67C23A"},null,8,["percentage"])]),_:1}),a(_,{label:"Clip:"},{default:e(()=>[a(p,{"stroke-width":20,"text-inside":!0,percentage:Math.floor(s.value.clip*500),color:"#F56C6C"},null,8,["percentage"])]),_:1})]),_:1})):B("",!0)]),_:1})]),_:1}),a(w,{value:o.value,class:"mt-20"},null,8,["value"]),a(b,{error:S.value},null,8,["error"])],64)}}});export{R as default};
