import{q as o,f as y}from"./index-1833767a.js";const h={InvalidStateError:{type:"拒绝错误",desc:"调用getDisplayMedia()的 context 中的 document 不是完全激活的; 例如，也许它不是最前面的标签"},NotAllowedError:{type:"拒绝错误",desc:"用户拒绝授予访问屏幕区域的权限，或者不允许当前浏览实例访问屏幕共享。"},NotFoundError:{type:"拒绝错误",desc:"没有可用于捕获的屏幕视频源。"},NotReadableError:{type:"拒绝错误",desc:"用户选择了屏幕，窗口，标签或其他屏幕数据源，但发生了硬件或操作系统级别错误或锁定，从而预先占用了共享所选源。"},OverconstrainedError:{type:"转换错误",desc:"创建流后，由于无法生成兼容的流导致应用指定的 constraints 失效。"},TypeError:{type:"类型错误",desc:"指定的 constraints 包括调用 getDisplayMedia() 时不允许的constraints。这些不受支持的constraints是 advanced 的，任何约束又有一个名为 min 或 exact 的成员。"},AbortError:{type:"中止错误",desc:"发生未知错误或故障"}},m=()=>{const s=o([]),r=o([]),n=o([]),a=o([]),i=y(""),d=e=>navigator.mediaDevices.enumerateDevices(),l=e=>{s.splice(0,s.length,...e),r.splice(0,r.length,...e.filter(t=>t.kind==="audioinput")),n.splice(0,n.length,...e.filter(t=>t.kind==="audiooutput")),a.splice(0,a.length,...e.filter(t=>t.kind==="videoinput"))},p=e=>{console.log(e),i.value=e.message},g=(e,t)=>{console.log("videoElement",t,typeof e),typeof e.sinkId<"u"?e.setSinkId(t).then(()=>{console.log(`Success, audio output device attached: ${t}`)}).catch(c=>{let u=c.message;c.name==="SecurityError"&&(u=`You need to use HTTPS for selecting audio output device: ${c}`),console.error(u)}):console.warn("Browser does not support output device selection.")};return navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(d).then(l).catch(p),{error:i,list:s,audioInput:r,audioOutput:n,videoInput:a,playback:g}};export{h as E,m as u};
